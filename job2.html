<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NexusCorp | Professional Portal</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        :root {
            --brand-dark: #0f172a;
            --brand-accent: #b4945c; 
        }
        .bg-brand-dark { background-color: var(--brand-dark); }
        .text-brand-accent { color: var(--brand-accent); }
        .border-brand-accent { border-color: var(--brand-accent); }
        
        #signupModal.hidden, #adminModal.hidden { display: none; }
        #signupModal.flex, #adminModal.flex { display: flex; }

        button:disabled {
            opacity: 0.4;
            cursor: not-allowed;
            background-color: #64748b !important;
        }
        .hidden-field { display: none; }
        
        .custom-checkbox:checked {
            background-color: var(--brand-accent);
            border-color: var(--brand-accent);
        }

        .captcha-box {
            letter-spacing: 0.5em;
            font-family: serif;
            user-select: none;
            background-image: url('https://www.transparenttextures.com/patterns/carbon-fibre.png');
        }
    </style>
</head>
<body class="bg-gray-50 text-slate-800 font-light">

    <header class="bg-brand-dark text-white sticky top-0 z-50 shadow-lg">
        <nav class="max-w-7xl mx-auto px-8 py-5 flex justify-between items-center">
            <div class="flex items-center space-x-2">
                <div class="w-8 h-8 bg-brand-accent rounded-sm"></div>
                <span class="text-xl font-semibold tracking-widest uppercase">Nexus<span class="text-brand-accent">Corp</span></span>
            </div>
            
            <div id="navLinks" class="hidden md:flex space-x-10 text-sm font-medium tracking-wide uppercase">
                <a href="#" class="hover:text-brand-accent transition">Overview</a>
                <a href="#" class="hover:text-brand-accent transition">Our Impact</a>
                <a href="#" class="hover:text-brand-accent transition">Culture</a>
            </div>

            <div id="authHeaderAction" class="flex items-center space-x-6">
                <a href="javascript:void(0)" onclick="manualLoginRedirect()" class="text-sm font-medium hover:text-brand-accent transition">Log In</a>
                <button onclick="toggleModal()" class="bg-brand-accent text-white px-5 py-2 text-xs font-bold uppercase tracking-widest hover:opacity-90 transition">Join Network</button>
            </div>
        </nav>
    </header>

    <main id="dynamicContent">
        <section class="relative bg-white py-24 border-b">
            <div class="max-w-7xl mx-auto px-8 grid md:grid-cols-2 gap-12 items-center">
                <div>
                    <h1 class="text-5xl font-serif text-slate-900 leading-tight mb-6">
                        Excellence in <br><span class="italic text-brand-accent">Strategic Innovation.</span>
                    </h1>
                    <p class="text-lg text-slate-600 mb-8 leading-relaxed">
                        We provide the infrastructure for global leaders to thrive. Our portal serves as the exclusive gateway for professionals seeking to redefine industry standards.
                    </p>
                    <div class="flex space-x-4">
                        <button onclick="toggleModal()" class="px-8 py-4 bg-brand-dark text-white text-sm font-bold uppercase tracking-widest hover:opacity-90 transition">
                            Partner With Us
                        </button>
                    </div>
                </div>
                <div class="hidden md:block">
                    <div class="h-96 w-full bg-slate-200 rounded-sm overflow-hidden grayscale contrast-125 shadow-2xl">
                        <img src="https://images.unsplash.com/photo-1486406146926-c627a92ad1ab?auto=format&fit=crop&q=80&w=1000" alt="Corporate Building" class="object-cover w-full h-full opacity-80">
                    </div>
                </div>
            </div>
        </section>
    </main>

    <div id="signupModal" class="fixed inset-0 z-[60] hidden items-center justify-center bg-black/60 backdrop-blur-sm px-4">
        <div class="bg-white w-full max-w-md p-8 shadow-2xl border border-slate-200">
            <div class="flex justify-between items-center mb-6">
                <h2 id="modalTitle" class="text-2xl font-serif text-slate-900">Create Account</h2>
                <button onclick="toggleModal()" class="text-slate-400 hover:text-slate-900">&times;</button>
            </div>
            <form id="signupForm" class="space-y-4">
                <div id="mainFields">
                    <div class="mb-4">
                        <label class="block text-xs font-bold uppercase tracking-widest mb-1">Full Name / UserID</label>
                        <input type="text" id="regName" required class="w-full border border-slate-300 p-3 text-sm focus:outline-none focus:border-brand-accent">
                    </div>
                    <div class="relative mb-2">
                        <label class="block text-xs font-bold uppercase tracking-widest mb-1">Password</label>
                        <input id="password" type="password" required oninput="validatePassword()"
                               class="w-full border border-slate-300 p-3 text-sm focus:outline-none focus:border-brand-accent">
                    </div>
                    <div id="passwordRules" class="text-[10px] uppercase tracking-tighter space-y-1 mb-4">
                        <p id="rule-upper" class="text-red-500">• Uppercase Letter Missing</p>
                        <p id="rule-num" class="text-red-500">• Number Missing</p>
                        <p id="rule-special" class="text-red-500">• Special Character Missing</p>
                    </div>
                    <div class="flex items-center mb-4">
                        <input type="checkbox" id="rememberMe" class="custom-checkbox w-4 h-4 border-slate-300 rounded focus:ring-brand-accent cursor-pointer">
                        <label for="rememberMe" class="ml-2 text-[10px] font-bold uppercase tracking-widest text-slate-500 cursor-pointer select-none">Remember this device</label>
                    </div>
                </div>

                <div id="otpSection" class="hidden-field border-t border-slate-100 pt-6 mt-4">
                    <div class="flex flex-col items-center justify-center space-y-4">
                        <div id="captchaDisplay" class="captcha-box bg-slate-900 text-brand-accent px-6 py-2 text-xl font-bold italic tracking-[0.5em] rounded-sm shadow-inner"></div>
                        <div class="w-full">
                            <label class="block text-center text-[9px] font-bold uppercase tracking-[0.2em] mb-2 text-slate-400">Enter Security Code Above</label>
                            <input type="text" id="captchaInput" oninput="validateCaptcha()" maxlength="4" placeholder="****" 
                                   class="w-full border-b border-slate-300 p-2 text-center text-lg tracking-[0.5em] focus:outline-none focus:border-brand-accent uppercase">
                        </div>
                    </div>
                </div>

                <button id="submitBtn" type="button" onclick="handleFlow()" disabled class="w-full py-4 bg-brand-dark text-white text-xs font-bold uppercase tracking-widest hover:bg-brand-accent transition mt-4">
                    Continue to Registration
                </button>
            </form>
        </div>
    </div>

    <div id="adminModal" class="fixed inset-0 z-[70] hidden items-center justify-center bg-black/80 backdrop-blur-sm px-4">
        <div class="bg-white w-full max-w-xs p-8 shadow-2xl">
            <h2 class="text-xl font-serif mb-4">Admin Access</h2>
            <input type="password" id="adminKey" placeholder="Enter System Key" class="w-full border p-3 text-xs mb-4 focus:outline-none">
            <button onclick="verifyAdmin()" class="w-full py-3 bg-brand-dark text-white text-xs font-bold uppercase tracking-widest">Login to Admin</button>
            <button onclick="toggleAdminModal()" class="w-full mt-2 text-[10px] uppercase text-slate-400">Close</button>
        </div>
    </div>

    <footer class="bg-brand-dark text-slate-400 py-16">
        <div class="max-w-7xl mx-auto px-8 flex flex-col md:flex-row justify-between items-center border-b border-slate-800 pb-12">
            <div class="mb-8 md:mb-0">
                <div class="text-white text-lg font-bold tracking-widest uppercase mb-2">Nexus<span class="text-brand-accent">Corp</span></div>
                <p class="text-xs uppercase tracking-widest">&copy; 2026 Global Holdings Inc.</p>
                <button id="adminFooterBtn" onclick="handleAdminAccess()" class="mt-4 text-[9px] uppercase tracking-widest hover:text-white transition">Admin Portal</button>
            </div>
            <div class="flex space-x-12 text-xs font-bold uppercase tracking-widest">
                <a href="#" class="hover:text-white transition">Terms</a>
                <a href="#" class="hover:text-white transition">Privacy</a>
            </div>
        </div>
    </footer>

    <script>
        const locationData = {
            "USA": ["New York", "California", "Texas"],
            "India": ["Karnataka", "Maharashtra", "Delhi"],
            "Switzerland": ["Geneva", "Zurich"]
        };

        let defaultJobs = [
            { id: 1, role: "Chief Strategic Officer", country: "Switzerland", state: "Geneva", cat: "Leadership", desc: "Lead global strategy.", url: "https://example.com/apply" },
            { id: 2, role: "Principal Architect", country: "Remote", state: "Remote", cat: "Technology", desc: "Scale system infrastructure.", url: "https://example.com/apply" }
        ];

        let adminJobBoard = JSON.parse(localStorage.getItem('nexusJobs')) || defaultJobs;
        let flowStep = 1;
        let isUserLoggedIn = false;
        let activeCaptcha = "";
        let currentUser = "";

        // --- ADMIN PORTAL ---
        function handleAdminAccess() {
            if(isUserLoggedIn) return; 
            toggleAdminModal();
        }

        function toggleAdminModal() {
            const m = document.getElementById('adminModal');
            m.classList.toggle('hidden'); m.classList.toggle('flex');
        }

        function verifyAdmin() {
            if(document.getElementById('adminKey').value === "admin123") {
                renderAdminPortal(); toggleAdminModal();
            } else { alert("Invalid Key"); }
        }

        function renderAdminPortal() {
            const container = document.getElementById('dynamicContent');
            container.innerHTML = `
                <section class="bg-slate-50 min-h-screen py-16">
                    <div class="max-w-7xl mx-auto px-8">
                        <div class="flex justify-between items-end border-b pb-6 mb-8">
                            <h1 class="text-3xl font-serif">Admin Control Center</h1>
                            <div class="flex space-x-4">
                                <button onclick="saveAdminChanges()" class="bg-brand-dark text-white px-6 py-2 text-xs uppercase font-bold hover:bg-slate-800 transition">Save Changes</button>
                                <button onclick="location.reload()" class="bg-slate-200 text-slate-700 px-4 py-2 text-xs uppercase">Logout</button>
                            </div>
                        </div>
                        <div class="grid md:grid-cols-3 gap-8">
                            <div class="bg-white p-6 border shadow-sm h-fit">
                                <h3 class="text-xs font-bold uppercase mb-4">Create New Position</h3>
                                <div class="space-y-4">
                                    <input type="text" id="newRole" placeholder="Job Role" class="w-full border p-2 text-xs outline-none focus:border-brand-accent">
                                    <textarea id="newDesc" placeholder="Job Description" class="w-full border p-2 text-xs h-24 outline-none focus:border-brand-accent"></textarea>
                                    <input type="text" id="newUrl" placeholder="Application URL" class="w-full border p-2 text-xs outline-none focus:border-brand-accent">
                                    <div class="grid grid-cols-2 gap-2">
                                        <input type="text" id="newCountry" placeholder="Country" class="border p-2 text-xs outline-none">
                                        <input type="text" id="newState" placeholder="State" class="border p-2 text-xs outline-none">
                                    </div>
                                    <button onclick="adminAddJob()" class="w-full bg-brand-accent text-white py-3 text-xs uppercase font-bold hover:brightness-110 transition">Add Job Role</button>
                                </div>
                            </div>
                            <div class="md:col-span-2 bg-white border shadow-sm">
                                <table class="w-full text-left text-xs">
                                    <thead class="bg-slate-100 uppercase font-bold">
                                        <tr><th class="p-4">Role</th><th class="p-4">Location</th><th class="p-4">Action</th></tr>
                                    </thead>
                                    <tbody id="adminTableBody">
                                        ${adminJobBoard.map(j => `
                                            <tr class="border-t">
                                                <td class="p-4">${j.role}</td><td class="p-4">${j.state}, ${j.country}</td>
                                                <td class="p-4"><button onclick="adminDeleteJob(${j.id})" class="text-red-500 font-bold uppercase hover:underline">Delete</button></td>
                                            </tr>
                                        `).join('')}
                                    </tbody>
                                </table>
                            </div>
                        </div>
                    </div>
                </section>
            `;
        }

        function adminAddJob() {
            const role = document.getElementById('newRole').value;
            const desc = document.getElementById('newDesc').value;
            const url = document.getElementById('newUrl').value;
            if(!role || !desc || !url) return alert("All fields are required.");

            adminJobBoard.push({
                id: Date.now(), role, desc, url,
                country: document.getElementById('newCountry').value || "Global",
                state: document.getElementById('newState').value || "Remote",
                cat: "Professional"
            });
            renderAdminPortal();
        }

        function adminDeleteJob(id) {
            adminJobBoard = adminJobBoard.filter(j => j.id !== id);
            renderAdminPortal();
        }

        function saveAdminChanges() {
            localStorage.setItem('nexusJobs', JSON.stringify(adminJobBoard));
            alert("Success: Changes published to the User Dashboard.");
        }

        // --- USER FLOW ---
        function generateCaptcha() {
            activeCaptcha = Math.random().toString(36).substring(2, 6).toUpperCase();
            document.getElementById('captchaDisplay').innerText = activeCaptcha;
        }

        function validateCaptcha() {
            if (flowStep !== 2) return;
            const input = document.getElementById('captchaInput').value.toUpperCase();
            const btn = document.getElementById('submitBtn');
            btn.disabled = (input !== activeCaptcha);
        }

        function toggleModal() {
            const modal = document.getElementById('signupModal');
            modal.classList.toggle('hidden'); modal.classList.toggle('flex');
            resetForm();
        }

        function validatePassword() {
            if (flowStep !== 1) return;
            const val = document.getElementById('password').value;
            const btn = document.getElementById('submitBtn');
            const hasUpper = /[A-Z]/.test(val); const hasNum = /\d/.test(val); const hasSpecial = /[!@#$%^&*(),.?":{}|<>]/.test(val);
            document.getElementById('rule-upper').className = hasUpper ? 'text-green-600' : 'text-red-500';
            document.getElementById('rule-num').className = hasNum ? 'text-green-600' : 'text-red-500';
            document.getElementById('rule-special').className = hasSpecial ? 'text-green-600' : 'text-red-500';
            btn.disabled = !(hasUpper && hasNum && hasSpecial);
        }

        function handleFlow() {
            const name = document.getElementById('regName').value;
            const pass = document.getElementById('password').value;
            const remember = document.getElementById('rememberMe').checked;

            if (flowStep === 1) {
                if(localStorage.getItem('savedUserID') === name || sessionStorage.getItem('savedUserID') === name) {
                    alert("Account exists."); manualLoginRedirect(); return;
                }
                document.getElementById('otpSection').classList.remove('hidden-field');
                generateCaptcha();
                document.getElementById('submitBtn').innerText = "Register Account";
                document.getElementById('submitBtn').disabled = true;
                flowStep = 2;
            } else if (flowStep === 2) {
                if (remember) {
                    localStorage.setItem('savedUserID', name); 
                    localStorage.setItem('savedPassword', pass);
                    localStorage.setItem('isRemembered', "true");
                } else {
                    sessionStorage.setItem('savedUserID', name);
                    sessionStorage.setItem('savedPassword', pass);
                }
                
                alert("Security Verified. Welcome."); 
                document.getElementById('modalTitle').innerText = "Portal Login";
                document.getElementById('otpSection').classList.add('hidden-field');
                document.getElementById('submitBtn').innerText = "Enter Dashboard"; 
                flowStep = 3; 
            } else if (flowStep === 3) {
                isUserLoggedIn = true;
                currentUser = name;
                const footerBtn = document.getElementById('adminFooterBtn');
                footerBtn.style.opacity = "0.2";
                footerBtn.style.cursor = "default";
                renderUserPortal(name); toggleModal();
            }
        }

        function manualLoginRedirect() {
            const savedUser = localStorage.getItem('savedUserID') || sessionStorage.getItem('savedUserID');
            const savedPass = localStorage.getItem('savedPassword') || sessionStorage.getItem('savedPassword');
            const isRemembered = localStorage.getItem('isRemembered') === "true";

            if(savedUser) {
                const modal = document.getElementById('signupModal');
                if(modal.classList.contains('hidden')) toggleModal();
                document.getElementById('regName').value = savedUser;
                document.getElementById('password').value = savedPass;
                document.getElementById('rememberMe').checked = isRemembered;
                document.getElementById('modalTitle').innerText = "Portal Login";
                document.getElementById('submitBtn').innerText = "Log In";
                document.getElementById('submitBtn').disabled = false; flowStep = 3;
            } else { alert("User not found."); toggleModal(); }
        }

        function renderUserPortal(username) {
            document.getElementById('authHeaderAction').innerHTML = `
                <div class="flex items-center space-x-4"><span class="text-xs font-bold uppercase text-brand-accent">${username}</span>
                <button onclick="location.reload()" class="px-4 py-2 border border-brand-accent text-xs font-bold uppercase hover:bg-brand-accent hover:text-white transition">Exit</button></div>
            `;
            const container = document.getElementById('dynamicContent');
            container.innerHTML = `
                <section class="bg-white min-h-screen py-16">
                    <div class="max-w-7xl mx-auto px-8">
                        <div class="border-b pb-8 mb-12">
                            <h1 class="text-4xl font-serif text-slate-900">Member Dashboard</h1>
                        </div>
                        <div class="mb-12 bg-slate-50 p-6 border border-slate-200 grid md:grid-cols-6 gap-4">
                            <input type="text" id="searchKeyword" placeholder="Search Positions..." class="border p-3 text-xs focus:outline-none focus:border-brand-accent bg-white md:col-span-2 uppercase">
                            <select id="filterCountry" onchange="updateStates()" class="border p-3 text-xs focus:outline-none focus:border-brand-accent bg-white uppercase tracking-widest">
                                <option value="">Country</option><option value="USA">USA</option><option value="India">India</option><option value="Switzerland">Switzerland</option><option value="Remote">Remote</option>
                            </select>
                            <select id="filterState" class="border p-3 text-xs focus:outline-none focus:border-brand-accent bg-white uppercase tracking-widest opacity-50" disabled><option value="">State</option></select>
                            <button onclick="applyFilters()" class="bg-brand-dark text-white text-[10px] font-bold uppercase tracking-widest">Search</button>
                            <button onclick="clearFilters()" class="border text-slate-500 text-[10px] font-bold uppercase tracking-widest">Clear</button>
                        </div>
                        <div class="grid lg:grid-cols-3 gap-16">
                            <div id="jobList" class="lg:col-span-2 space-y-6"></div>
                            <div class="bg-slate-50 p-10 border h-fit"><h3 class="text-xs font-bold uppercase mb-8 border-b pb-4">External Applications</h3><p class="text-[10px] text-slate-400 italic">Official portal links are managed via third-party systems.</p></div>
                        </div>
                    </div>
                </section>
            `;
            adminJobBoard = JSON.parse(localStorage.getItem('nexusJobs')) || defaultJobs;
            renderJobList(adminJobBoard); 
        }

        function renderJobList(jobs) {
            const list = document.getElementById('jobList');
            if(!list) return;
            list.innerHTML = jobs.map(j => `
                <div class="border p-8 hover:border-brand-accent transition bg-white cursor-pointer group" onclick="showJobDetails(${j.id})">
                    <div class="flex justify-between items-center">
                        <div>
                            <p class="text-[10px] font-bold text-brand-accent uppercase mb-2">${j.cat}</p>
                            <h4 class="text-2xl font-serif group-hover:text-brand-accent transition">${j.role}</h4>
                            <p class="text-sm text-slate-500">${j.state}, ${j.country}</p>
                        </div>
                        <div class="text-brand-accent transform group-hover:translate-x-2 transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="9 5l7 7-7 7" />
                            </svg>
                        </div>
                    </div>
                </div>
            `).join('');
        }

        // --- NEW SPECIFICATION PAGE RENDERER ---
        function showJobDetails(id) {
            const job = adminJobBoard.find(j => j.id === id);
            if(!job) return;

            const container = document.getElementById('dynamicContent');
            container.innerHTML = `
                <section class="bg-slate-50 min-h-screen py-24 animate-in fade-in duration-500">
                    <div class="max-w-4xl mx-auto px-8">
                        <button onclick="renderUserPortal('${currentUser}')" class="flex items-center text-[10px] font-bold uppercase tracking-[0.2em] text-slate-400 hover:text-brand-dark mb-12 transition">
                            <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-2" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
                            </svg>
                            Back to Dashboard
                        </button>
                        
                        <div class="bg-white border p-12 shadow-sm">
                            <div class="border-b pb-8 mb-8">
                                <p class="text-xs font-bold text-brand-accent uppercase tracking-widest mb-4">${job.cat} / ${job.state}</p>
                                <h1 class="text-5xl font-serif text-slate-900 mb-2">${job.role}</h1>
                                <p class="text-lg text-slate-500 italic uppercase tracking-wider">${job.country}</p>
                            </div>
                            
                            <div class="prose max-w-none">
                                <h3 class="text-xs font-bold uppercase tracking-widest mb-4">Position Overview</h3>
                                <p class="text-slate-600 leading-relaxed whitespace-pre-wrap mb-12">${job.desc}</p>
                            </div>
                            
                            <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 pt-8 border-t">
                                <button onclick="window.open('${job.url}', '_blank')" 
                                    class="bg-brand-dark text-white px-10 py-4 text-xs font-bold uppercase tracking-widest hover:bg-brand-accent transition">
                                    Initiate Official Application
                                </button>
                                <button onclick="renderUserPortal('${currentUser}')" 
                                    class="border border-slate-200 text-slate-600 px-10 py-4 text-xs font-bold uppercase tracking-widest hover:bg-slate-50 transition">
                                    Save for Later
                                </button>
                            </div>
                        </div>
                    </div>
                </section>
            `;
            window.scrollTo(0, 0);
        }

        function updateStates() {
            const country = document.getElementById('filterCountry').value;
            const sd = document.getElementById('filterState');
            sd.innerHTML = '<option value="">State</option>';
            if (locationData[country]) {
                sd.disabled = false; sd.classList.remove('opacity-50');
                locationData[country].forEach(s => sd.innerHTML += `<option value="${s}">${s}</option>`);
            } else { sd.disabled = true; sd.classList.add('opacity-50'); }
        }

        function applyFilters() {
            const kw = document.getElementById('searchKeyword').value.toLowerCase();
            const c = document.getElementById('filterCountry').value;
            const s = document.getElementById('filterState').value;
            const filtered = adminJobBoard.filter(j => j.role.toLowerCase().includes(kw) && (c==="" || j.country===c) && (s==="" || j.state===s));
            renderJobList(filtered);
        }

        function clearFilters() {
            const sk = document.getElementById('searchKeyword');
            const fc = document.getElementById('filterCountry');
            if(sk) sk.value = ""; 
            if(fc) fc.value = ""; 
            updateStates(); 
            renderJobList(adminJobBoard);
        }

        function resetForm() {
            flowStep = 1; document.getElementById('signupForm').reset();
            const os = document.getElementById('otpSection');
            if(os) os.classList.add('hidden-field');
            const sb = document.getElementById('submitBtn');
            if(sb) sb.disabled = true;
            document.getElementById('captchaInput').value = "";
            
            const isRemembered = localStorage.getItem('isRemembered') === "true";
            if(isRemembered) document.getElementById('rememberMe').checked = true;
        }
    </script>
</body>
</html>